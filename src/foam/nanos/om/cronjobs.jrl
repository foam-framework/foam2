p({"class":"foam.nanos.cron.Cron","second":0,"id":"omMinutelyReduce","enabled":true,"code":"rm = x.get(\"omMinutelyReduceManager\");\nrm.doReduce();"})
p({"class":"foam.nanos.cron.Cron","minute":0,"id":"omHourlyReduce","enabled":true,"code":"rm = x.get(\"omHourlyReduceManager\");\nrm.doReduce();"})
p({"class":"foam.nanos.cron.Cron","hour":0,"id":"omDailyReduce","enabled":true,"code":"rm = x.get(\"omDailyReduceManager\");\nrm.doReduce();"})
p({"class":"foam.nanos.cron.Cron","enabled":true,"id":"omReduceManager","code":"import foam.nanos.logger.Logger;\n\nscriptName = \"omReduceManager\";\nlogger = x.get(\"logger\");\ndailyRM = x.get(\"omDailyReduceManager\");\nhourlyRM = x.get(\"omHourlyReduceManager\");\nnow = java.time.LocalDateTime.now();\n\nif (now.getHour() == 0) {\n  hourlyRM.doReduce();\n  dailyRM.doReduce();\n  logger.info(new String[] {scriptName, \"Daily OM Reduce Complete\"});\n} else if (now.getMinute() == 0){\n  hourlyRM.doReduce();\n  logger.info(new String[] {scriptName, \"Hourly OM Reduce Complete\"});\n}\n"})